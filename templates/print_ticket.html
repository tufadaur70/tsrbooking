{% extends 'base.html' %}

{% block content %}
<div class="ticket-container">
    <button class="print-btn btn btn-info" onclick="window.print()">ğŸ“„ Stampa Biglietto</button>

    <div class="ticket-header">
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo Teatro San Raffaele">
        <h2>Teatro San Raffaele</h2>
        <h3>{{ event.title }}</h3>
    </div>

    {% if event.poster_url %}
    <div class="ticket-poster">
        <img src="{{ event.poster_url }}" alt="Locandina spettacolo">
    </div>
    {% endif %}

    <div class="ticket-details">
        <h3>ğŸ“… {{ event.date }} - â° {{ event.time }}</h3>
        <p><strong>ğŸ’¶ Prezzo:</strong> â‚¬{{ "%.2f"|format(event.price) }}</p>
    </div>

    <div class="ticket-details">
        <p><strong>ğŸ‘¤ Nominativo:</strong> {{ booking.name }}</p>
        <p><strong>ğŸ“§ Email:</strong> {{ booking.email }}</p>
        <h3>ğŸ« Posti: {{ booking.seats }}</h3>
        <p><strong>ğŸ”¢ Ticket NÂ°:</strong> {{ booking.id }}</p>
    </div>

    <div class="ticket-extra">
        <p><strong>ğŸ“Š Stato:</strong>
            {% if booking.status == 1 %}
            <span class="badge badge-pending">In attesa</span>
            {% elif booking.status == 2 %}
            <span class="badge badge-paid">Pagato</span>
            {% elif booking.status == 3 %}
            <span class="badge badge-validated">Cassa</span>
            {% else %}
            <span class="badge badge-unknown">Sconosciuto</span>
            {% endif %}
        </p>
        <p><strong>ğŸ“… Data creazione:</strong> {{ booking.created_at }}</p>
    </div>

    <div class="ticket-footer">
        <p>âœ¨ Grazie per l'acquisto! âœ¨</p>
        <small class="text-muted">Powered by TSR Booking System</small>
    </div>

    <div class="ticket-home-link text-center mt-4">
        <a href="{{ url_for('dashboard') }}" class="btn btn-primary">ğŸ  Torna alla Dashboard</a>
    </div>
</div>
{% endblock %}